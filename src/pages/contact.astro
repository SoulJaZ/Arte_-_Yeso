---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <section class="px-6 py-20 max-w-7xl mx-auto">
    <!-- Title -->
    <h2
      class="text-[#0B2545] text-3xl md:text-4xl font-extrabold text-center uppercase mb-12"
    >
      Contacto
    </h2>

    <!-- Main Container -->
    <div class="flex flex-col md:flex-row items-start gap-12">
      <!-- Text -->
      <div
        class="w-full md:w-1/2 text-center md:text-left flex flex-col justify-center"
      >
        <p class="text-gray-700 text-2xl font-bold leading-8 mb-6">
          Â¿Tiene una idea, proyecto o negocio que quiere llevar al siguiente
          nivel?
        </p>

        <p class="text-gray-700 text-lg leading-7 mb-4">
          DÃ©jeme un mensaje y me pondrÃ© en contacto con usted lo antes posible.
          Me enfoco en crear soluciones digitales claras, funcionales y pensadas
          para atraer clientes reales.
        </p>

        <p class="text-gray-700 text-lg leading-7">
          TambiÃ©n puede escribirme directamente por correo o telÃ©fono si lo
          prefiere.
        </p>
      </div>

      <!-- Form -->
      <div class="w-full md:w-1/2 bg-gray-50 rounded-2xl p-8">
        <form id="contactForm">
          <!-- Two-column grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- First Name -->
            <div class="flex flex-col">
              <label for="nombre" class="font-semibold text-[#0B2545] mb-2">
                Nombre
              </label>
              <input
                type="text"
                id="nombre"
                name="nombre"
                placeholder="Su nombre"
                class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F9C74F]"
                required
              />
            </div>

            <!-- Last Name -->
            <div class="flex flex-col">
              <label for="apellido" class="font-semibold text-[#0B2545] mb-2">
                Apellido
              </label>
              <input
                type="text"
                id="apellido"
                name="apellido"
                placeholder="Su apellido"
                class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F9C74F]"
                required
              />
            </div>

            <!-- Email -->
            <div class="flex flex-col">
              <label for="correo" class="font-semibold text-[#0B2545] mb-2">
                Correo electrÃ³nico
              </label>
              <input
                type="email"
                id="correo"
                name="correo"
                placeholder="sucorreo@email.com"
                class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F9C74F]"
                required
              />
            </div>

            <!-- Phone -->
            <div class="flex flex-col">
              <label for="telefono" class="font-semibold text-[#0B2545] mb-2">
                TelÃ©fono (opcional)
              </label>
              <input
                type="tel"
                id="telefono"
                name="telefono"
                placeholder="+57 300 000 0000"
                class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F9C74F]"
              />
            </div>
          </div>

          <!-- Message -->
          <div class="flex flex-col mt-6">
            <label for="mensaje" class="font-semibold text-[#0B2545] mb-2">
              CuÃ©nteme acerca su proyecto
            </label>
            <textarea
              id="mensaje"
              name="mensaje"
              rows="5"
              placeholder="ExplÃ­car quÃ© necesita, quÃ© problema quiere resolver o quÃ© idea tiene en mente..."
              class="border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#F9C74F] resize-none"
              required></textarea>
          </div>

          <!-- Button -->
          <div class="text-center md:text-right mt-6">
            <button
              type="submit"
              class="bg-[#F9C74F] text-[#0B2545] hover:bg-[#f1b500] font-bold px-14 py-3 rounded-full cursor-pointer transition"
            >
              Enviar mensaje
            </button>
          </div>
        </form>
        <script>
          const form = document.getElementById("contactForm");

          form.addEventListener("submit", async (e) => {
            e.preventDefault();

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
              const res = await fetch("/api/contact", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
              });

              if (res.ok) {
                alert("Mensaje enviado correctamente ðŸ™Œ");
                form.reset();
              } else {
                alert("Error al enviar el mensaje ðŸ˜•");
              }
            } catch (err) {
              alert("Error de conexiÃ³n ðŸ˜•");
            }
          });
        </script>
      </div>
    </div>
  </section>
</Layout>
